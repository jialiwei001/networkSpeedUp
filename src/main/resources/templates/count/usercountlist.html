<!DOCTYPE html>
<!-- saved from url=(0052)http://getbootstrap.com/docs/4.0/examples/dashboard/ -->
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Dashboard Template for Bootstrap</title>
    <!-- Bootstrap core CSS -->
    <link href="asserts/css/bootstrap.min.css"
          th:href="@{/webjars/bootstrap/4.0.0/css/bootstrap.css}" rel="stylesheet">
    <!--<link href="asserts/css/bootstrap.min.css" th:href="@{/webjars/bootstrap/4.0.0/css/bootstrap.min-jsf.css}" rel="stylesheet">-->

    <!-- Custom styles for this template -->
    <link href="asserts/css/dashboard.css" th:href="@{/asserts/css/dashboard.css}" rel="stylesheet">
    <!--<link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">-->
    <style type="text/css">
        /* Chart.js */

        @-webkit-keyframes chartjs-render-animation {
            from {
                opacity: 0.99
            }
            to {
                opacity: 1
            }
        }

        @keyframes chartjs-render-animation {
            from {
                opacity: 0.99
            }
            to {
                opacity: 1
            }
        }

        .chartjs-render-monitor {
            -webkit-animation: chartjs-render-animation 0.001s;
            animation: chartjs-render-animation 0.001s;
        }

        .modal-footer {
            width: 100%;
            display: flex;
            justify-content: center;
        }
    </style>
</head>

<body>
<!--引入抽取的topbar-->
<!--模板名：会使用thymeleaf的前后缀配置规则进行解析-->
<div th:replace="commons/bar::topbar"></div>

<div class="container-fluid">
    <div class="row">
        <!--引入侧边栏-->
        <div th:replace="commons/bar::#sidebar(activeUri='report')"></div>

        <main role="main" class="col-md-11 ml-sm-auto col-lg-11 pt-3 px-4">
            <div>

                <form class="form-inline" th:action="@{/user/report}" method="get">
                    <div class="form-group">
                        <label for="exampleInputEmail1">会员名称: </label>
                        <div class="form-group">
                            <input type="text" name="username" class="form-control"
                                   id="exampleInputUser" th:value="${userself}">
                        </div>
                    </div>
                    <div style="width: 15px"></div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">手机号: </label>
                        <input type="phone" name="phone" class="form-control"
                               id="exampleInputEmail1" placeholder="请输入用户手机号">
                    </div>

                    <div style="width: 15px"></div>
                    <div class="form-group">
                        <label for="examplestarttime1">开始时间: </label>
                        <input type="date" name="start" class="form-control"
                               id="examplestarttime1" placeholder="请选择开始时间">
                    </div>
                    <div style="width: 15px"></div>
                    <div class="form-group">
                        <label for="exampleEndtime">结束时间: </label>
                        <input type="date" name="end" class="form-control" id="exampleEndtime"
                               placeholder="请选择结束时间">
                    </div>
                    <div style="width: 5px"></div>
                    <button type="submit" class="btn btn-success">查询</button>
                </form>
                <form class="form-inline" style="margin-top: 5px">
                    <div class="form-group">
                        <label for="testcard">试用卡数量: </label>
                        <input type="text" name="testPrice" style="width: 70px" class="form-control"
                               id="testcard" placeholder="0" th:value="${testcard}">
                    </div>
                    <div style="width: 10px"></div>
                    <div class="form-group">
                        <label for="monthcard">月卡数量: </label>
                        <input type="text" name="monthPrice" style="width: 70px" class="form-control"
                               id="monthcard" placeholder="0" th:value="${month}">
                    </div>
                    <div style="width: 10px"></div>
                    <div class="form-group">
                        <label for="quartercard">季卡数量: </label>
                        <input type="text" name="quarterPrice" style="width: 50px" class="form-control"
                               id="quartercard" placeholder="0" th:value="${quarter}">
                    </div>
                    <div style="width: 10px"></div>
                    <div class="form-group">
                        <label for="halfcard">半年卡数量: </label>
                        <input type="text" name="halfYearPrice" style="width: 50px" class="form-control"
                               id="halfcard" placeholder="0" th:value="${half}">
                    </div>
                    <div style="width: 10px"></div>
                    <div class="form-group">
                        <label for="yearcard">年卡数量: </label>
                        <input type="text" name="YearPrice" style="width: 50px" class="form-control"
                               id="yearcard" placeholder="0" th:value="${year}">
                    </div>
                    <div style="width: 10px"></div>
                    <div class="form-group">
                        <label for="xumonthcard">续费月卡数量: </label>
                        <input type="text" name="monthPrice" style="width: 50px" class="form-control"
                               id="xumonthcard" placeholder="0" th:value="${xumonth}">
                    </div>
                    <div style="width: 10px"></div>
                    <div class="form-group">
                        <label for="xuquartercard">续费季卡数量: </label>
                        <input type="text" name="quarterPrice" style="width: 50px" class="form-control"
                               id="xuquartercard" placeholder="0" th:value="${xuquarter}">
                    </div>
                    <div style="width: 10px"></div>
                    <div class="form-group">
                        <label for="xuhalfcard">续费半年卡数量: </label>
                        <input type="text" name="halfYearPrice" style="width: 50px" class="form-control"
                               id="xuhalfcard" placeholder="0" th:value="${xuhalf}">
                    </div>
                    <div style="width: 10px"></div>
                    <div class="form-group">
                        <label for="xuyearcard">续费年卡数量: </label>
                        <input type="text" name="YearPrice" style="width: 50px" class="form-control"
                               id="xuyearcard" placeholder="0" th:value="${xuyear}">
                    </div>
                </form>
                <form class="form-inline" style="margin-top: 5px">
                    <div class="form-group">
                        <label for="testprice">试用卡价格: </label>
                        <input type="text" name="testPrice" style="width: 50px" class="form-control"
                               id="testprice"  value="0">
                    </div>
                    <div style="width: 10px"></div>
                    <div class="form-group">
                        <label for="monthprice">月卡价格: </label>
                        <input type="text" name="monthPrice" style="width: 50px" class="form-control"
                               id="monthprice" value="0">
                    </div>
                    <div style="width: 10px"></div>
                    <div class="form-group">
                        <label for="quarterprice">季卡价格: </label>
                        <input type="text" name="quarterPrice" style="width: 50px" class="form-control"
                               id="quarterprice" value="0">
                    </div>
                    <div style="width: 10px"></div>
                    <div class="form-group">
                        <label for="halfprice">半年卡价格: </label>
                        <input type="text" name="halfYearPrice" style="width: 60px" class="form-control"
                               id="halfprice" value="0">
                    </div>
                    <div style="width: 10px"></div>
                    <div class="form-group">
                        <label for="yearprice">年卡价格: </label>
                        <input type="text" name="YearPrice" style="width: 60px" class="form-control"
                               id="yearprice" value="0">
                    </div>
                    <div style="width: 15px"></div>
                    <a type="submit" class="btn btn-success" onclick="calculation()">计费</a>
                </form>

            <div class="table-responsive" style="margin-top: 5px">
                <table class="table table-striped table-sm">
                    <thead>
                    <tr>
                        <th>编号</th>
                        <th>会员名</th>
                        <th>用户名称</th>
                        <th>类型</th>
                        <th>数量</th>
                        <th>创建时间</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="note:${allNotes}">
                        <td >[[${noteStat.index+1}]]</td>
                        <td th:text="${#strings.toString(note.getLocalUser().getUsername())}"></td>
                        <td th:text="${note.content}"></td>
                        <td th:text="${note.type}"></td>
                        <td th:text="${note.number}"></td>
                        <td th:text="${note.createTime}"></td>
                    </tr>
                    </tbody>
                </table>
            </div>


        </main>
        <form id="deleteEmpForm"  method="delete">
            <input type="hidden" name="_method" value="delete"/>
        </form>
    </div>


    <!-- Bootstrap core JavaScript
================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="asserts/js/jquery-3.2.1.slim.min.js"
            th:src="@{/webjars/jquery/3.3.1/jquery.js}"></script>
    <!--<script type="text/javascript" src="asserts/js/popper.min.js"-->
            <!--th:src="@{/webjars/popper.js/1.11.1/dist/popper.js}"></script>-->
    <script type="text/javascript" src="asserts/js/bootstrap.min.js"
            th:src="@{/webjars/bootstrap/4.0.0/js/bootstrap.js}"></script>

    <!-- Icons -->
    <script>

        function calculation() {
            //var  url= "/menber/addtime"

            var testcard = parseInt($("#testcard").val());
            var monthcard = parseInt($("#monthcard").val());
            var quartercard = parseInt($("#quartercard").val());
            var halfcard = parseInt($("#halfcard").val());
            var yearcard = parseInt($("#yearcard").val());
            var xumonthcard = parseInt($("#xumonthcard").val());
            var xuquartercard = parseInt($("#xuquartercard").val());
            var xuhalfcard = parseInt($("#xuhalfcard").val());
            var xuyearcard = parseInt($("#xuyearcard").val());
            var testprice = parseInt($("#testprice").val());
            var monthprice = parseInt($("#monthprice").val());
            var quarterprice = parseInt($("#quarterprice").val());
            var halfprice = parseInt($("#halfprice").val());
            var yearprice = parseInt($("#yearprice").val());


            //totalPrice = testcard*testprice + (monthcard + xumonthcard)*monthprice
            + (quartercard+xuquartercard)*quarterprice + (halfcard+xuhalfcard)*halfprice
            + (yearcard+xuyearcard)*yearprice;

            totalPrice1 = (testcard*testprice);
            totalPrice2 = (monthcard + xumonthcard)*monthprice;
            totalPrice3 = (quartercard+xuquartercard)*quarterprice;
            totalPrice4 = (halfcard+xuhalfcard)*halfprice;
            totalPrice5 = (yearcard+xuyearcard)*yearprice;;
            //+ (monthcard + xumonthcard)*monthprice ;
            totalPrice = parseInt(totalPrice1) + parseInt(totalPrice2) + parseInt(totalPrice3) + parseInt(totalPrice4) + parseInt(totalPrice5);

            alert("统计价格为：" + parseInt(totalPrice));

        }

        //feather.replace()
    </script>
    <script type="text/javascript" src="asserts/js/feather.min.js"
            th:src="@{/asserts/js/feather.min.js}"></script>
    <script>

    </script>
</body>
</html>